package dxl_control;


import client.TCPClient;
import gui.MotorControlPanel;



//import dxl_communication.DynamixelControl;
//import server.GreetingServer;


public class Test {
	
	
	public static void main(String args[]){
		

				
		MotorControlPanel motorControlPanel = new MotorControlPanel();
		motorControlPanel.showControlPanel();
		
		TCPClient tcpClient = new TCPClient("127.0.0.1", 8888);
		
		
		
		// TODO Må kjøres når GUI-client skal kjøres
		while(!motorControlPanel.cancelPressed){
			if(motorControlPanel.okIdPressed){
				System.out.println(motorControlPanel.id);
			}
			//TODO må legge inn knapper til "get" og kalle riktig "if" hvis den blir trykket på
			if (motorControlPanel.okSetPressed){
				
				//TODO Dette må hente ut ID og functionName fra gui automatisk
				String message = TCPClient.createMessageString(2, "setGoalPosition",
						motorControlPanel.setSliderValue);
				tcpClient.sendToDynamixelComputer(message);
				
				//Skal skrive ut melding fra server. Funker fint. Skal kun brukes når "get-knapp" trykkes.
				System.out.println(tcpClient.readFromDynamixelComputer());
				
				motorControlPanel.okSetPressed = false;
			}
		}
		
		

		

		

		
		
		
		
	}

	
	

}
